{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  extends: ["config:recommended"],

  prConcurrentLimit: 1,

  reviewers: [
    "team:topiary-core-team"
  ],

  ignorePaths: [
    ".github/workflows/release.yml",  // Automatically generated by dist
    "web-playground/package.json",    // Not currently maintained (see `playground` branch)
  ],

  // For Nix flake.lock and Cargo.lock
  lockFileMaintenance: { enabled: true },

  packageRules: [
    {
      // Tree-sitter and its sub-packages should be updated together
      groupName: "Tree-sitter packages",
      matchPackageNames: ["tree-sitter", "tree-sitter-*"],
      matchManagers: ["cargo"]
    },
    {
      groupName: "Clap packages",
      matchPackageNames: ["clap", "clap_derive"],
      matchManagers: ["cargo"]
    },
    {
      groupName: "serde packages",
      matchPackageNames: ["serde", "serde_*"],
      matchManagers: ["cargo"]
    }
  ]
}
